<app-top-nav
  title="Manage Evaluation"
>
</app-top-nav>
<app-side-nav> </app-side-nav>
<div class="main">
<div *ngIf="evalInfo">
  <div class="row">
    <div class="col-md-12 text-center">
      <h3>Evaluation Submitted</h3>
      <h4><font [color]="classInfo.color">{{classInfo.instructor.name}} | {{classInfo.name}}</font></h4>
      <hr/>
      <div class="row">
        <div class="col-md-8">
          <h5>Evaluation Overview</h5>
          <table class="table table-striped pa-4">
            <tr>
              <td>Question</td>
              <td>Rating</td>
            </tr>
            <tr *ngFor="let ans of evalInfo.eval_data;">
              <td class="text-left">{{ans.question}}</td>
              <td class="text-center" >{{ans.answer}}</td>
            </tr>
          </table>
        </div>
        <div class="col-md-4 mb-4">
          <h4 class="mb-10">Submitted Score: <b>{{evalInfo.total_rating}}</b></h4>
          <h6 class="text-left"><b>Your Remarks:</b> {{evalInfo.comments}}</h6>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="!evalInfo">
  <div class="row">
    <div class="col-md-12 text-center">
      <h3>Evaluation Form</h3>
      <h4><font [color]="classInfo.color">{{classInfo.instructor.name}} | {{classInfo.name}}</font></h4>
    </div>
    <table class="table table-striped pa-4">
      <tr class="text-center">
        <th>Question</th>
        <th>Rating</th>
      </tr>
      <tr *ngFor="let qs of questionInfo;let i = index">
        <td>{{qs.question}}</td>
        <td class="answer">
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link"
              [ngClass]="{
                active: qs.answer === 5
              }"
              (click)="toggleAns(5, i)" href="javascript:void(0);"><b>5</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link"
              [ngClass]="{
                active: qs.answer === 4
              }" (click)="toggleAns(4, i)" href="javascript:void(0);"><b>4</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link"
              [ngClass]="{
                active: qs.answer === 3
              }" (click)="toggleAns(3, i)" href="javascript:void(0);"><b>3</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link"
              [ngClass]="{
                active: qs.answer === 2
              }" (click)="toggleAns(2, i)" href="javascript:void(0);"><b>2</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link"
              [ngClass]="{
                active: qs.answer === 1
              }" (click)="toggleAns(1,i)" href="javascript:void(0);"><b>1</b></a>
            </li>
          </ul>
        </td>
      </tr>
    </table>
  </div>
  <div class="row">
    <div class="col-md-12 mb-4">
      <hr/>
      <textarea [(ngModel)]="comments" rows="3" class="form-control" placeholder="Remarks"></textarea>
    </div>
    <div class="col-md-10"><br/></div>
    <div class="col-md-2 text-right">
      <button class="btn btn-success btn-block" (click)="submitEval()">Evaluate</button>
    </div>
  </div>
</div>
</div>
